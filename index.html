<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Ferran Bertomeu Castells</title>

	<meta property="og:title" content="Ferran Bertomeu Castells" />
	<meta property="og:site_name" content="Ferran's personal website">
	<meta property="og:description" content="games - art - music" />
	<meta property="og:locale" content="en_US">

	<meta property="og:image" content="images/ferran_northcoast_square.jpg" />
	<meta property="twitter:image" content="https://fonserbc.github.io/images/ferran_northcoast_square.jpg" />
	<meta property="twitter:image:alt" content="Ferran Bertomeu Castells" />
	<meta property="twitter:description" content="games - art - music" />
	<meta property="twitter:creator" content="Ferran Bertomeu Castells" />
	<meta property="twitter:creator:id" content="@fonserbc" />
	<meta property="twitter:card" content="summary" />
	<meta property="twitter:site" content="@fonserbc" />

	<meta property="og:url" content="https://fonserbc.net" />

	<meta property="og:site_name" content="Ferran Bertomeu Castells" />
	<meta property="og:type" content="profile" />
	<meta property="profile:first_name" content="Ferran" />
	<meta property="profile:last_name" content="Bertomeu Castells" />
	<meta property="profile:username" content="fonserbc">


	<!--<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">-->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&family=Nunito&display=swap" rel="stylesheet">

	<style>
		html {
			/* ios safari mobile viewport bug fix */
			height: -webkit-fill-available;
		}

		body {
			background: #fffcf0;
			font-family: 'Nunito', sans-serif;
			/*font-family: "Trebuchet MS", Helvetica, sans-serif */
			padding: 32px;
			padding-bottom: 128px;
		}

		canvas {
			width: 100%;
			height: 100%;
			display: inline-block;
			position: fixed;
			top: 0px;
			left: 0px;
			z-index: -1;
			pointer-events: none;
		}

		.zh {
			font-family: 'Noto Sans TC', sans-serif;
		}

		div {
			margin: 0 auto;
		}

		main {
			max-width: 640px;
			margin: 0 auto;
			text-align: center;
			background: #fffcf0;
			padding-top: 1px;
			padding-bottom: 32px;
		}

		.portrait {
			position: relative;
			top: 0px;
			height: 512px;
			cursor: pointer;
		}

		#portrait-container {
			background-image: url(/images/ferran_northcoast_square.jpg);
			background-size: contain;
			background-repeat: no-repeat;
			background-position: center;
			height: 512px;
		}

		#links a {
			margin: 0 8px;
		}

		.text {
			text-align: left;
			margin: 0px 32px;
		}

		.hidden {
			display: none;
		}

		.reveal {
			-webkit-animation: fadeIn 1.3s ease-out;
			-moz-animation: fadeIn 1.3s ease-out;
			-o-animation: fadeIn 1.3s ease-out;
			animation: fadeIn 1.3s ease-out;
		}

		@keyframes fadeIn {
			0% {
				display: none;
				opacity: 0;
			}

			100% {
				opacity: 1;
			}
		}

		@keyframes useKey {
			0% {
				color: blue;
			}

			100% {
				color: black;
			}
		}

		.hidden-key {
			color: blue;
			cursor: pointer;
		}

		.pressed-key {
			-webkit-animation: useKey 0.5s ease-out;
			-moz-animation: useKey 0.5s ease-out;
			-o-animation: useKey 0.5s ease-out;
			animation: useKey 0.5s ease-out;
		}

		#works p a {
			/*letter-spacing: 2px;*/
		}
	</style>
	<link rel="shortcut icon" href="fon.ico">
	<script src="/js/aes.js"></script>
	<script type="text/javascript">
		function wantToSendMail() {
			return CryptoJS.AES.decrypt("U2FsdGVkX1+5gKfiQdRwVbMPSk8zRQULptjr+peoDsueyGOkyDXpawYV2JJ0nnpZ", "Please bots and crawlers stay out").toString(CryptoJS.enc.Utf8);
		}
	</script>
</head>

<body>
	<canvas id="canvas">
    </canvas>

	<main>
		<h1>Ferran Bertomeu Castells</h1>
		<h2>games - art - music</h2>
		<p id="portrait-container">
			<img id="looking-portrait" class="portrait hidden" src="images/ferran_nomi.jpg" />
		</p>
		<h2>links</h2>
		<p id="links">
			<a href="#" onmouseover="this.href='mailto:'+wantToSendMail();">email</a>
			<a target="_blank" href="https://fonserbc.itch.io/">itch.io</a>
			<a target="_blank" href="https://twitter.com/fonserbc">twitter</a>
			<a target="_blank" href="https://instagram.com/fonserbc">instagram</a>
			<a rel="me" target="_blank" href="https://mastodon.gamedev.place/@ferran">mastodon</a>
		</p>
		<h2>games  ∩  music</h2>
		<div id="works">
			<p><a target="_blank" href="https://liliumtaiwan.itch.io/monkey">掠猴之遊戲 Monkey-catching Game</a> (2023), code &amp; design</p>
			<p><a target="_blank" href="https://offscore.itch.io/elephants-remember">Off-Score: Elephants Remember</a> (2020), code &amp; design</p>
			<p><a target="_blank" href="https://fonserbc.itch.io/keyboard-guitarra">Keyboard Guitarra</a> (2020), code &amp; design</p>
			<p><a target="_blank" href="https://www.youtube.com/watch?v=jPGI9UTk_JA">Summer Festival</a> (2020), sound &amp; visuals</p>
			<p><a target="_blank" href="https://offscore.itch.io/copy-machine">Off-Score: Copy Machine</a> (2020), code &amp; design</p>
			<p><a target="_blank" href="https://fonserbc.itch.io/poly-60">Poly-60</a> (2019), code &amp; design</p>
			<p><a target="_blank" href="https://nothke.itch.io/jamsterdam">Jamsterdam</a> (2019), code &amp; music</p>
			<p><a target="_blank" href="https://fonserbc.itch.io/pianobots">Pianobots</a> (2018), code &amp; visuals</p>
		</div>
		<h2>other works</h2>
		<div id="other-works">
			<p><a target="_blank" href="https://the-nomi.itch.io/mac-n-cheddar">Mac &amp; Cheddar</a> (2022), code</p>
			<p><a target="_blank" href="https://nothke.itch.io/interminal">Interminal</a> (2020), code</p>
			<p><a target="_blank" href="https://fonserbc.itch.io/coches-de-choque">Coches de Choque</a> (2020), solo</p>
			<p><a target="_blank" href="https://fonserbc.itch.io/missing-masks-cleaning-tasks">Missing Masks Cleaning Tasks</a> (2020), code &amp; design</p>
			<p><a target="_blank" href="https://fonserbc.itch.io/found">Found</a> (2018), code &amp; design</p>
			<p><a target="_blank" href="https://fonserbc.itch.io/forget-the-brakes">Forget the Brakes!</a> (2015), code &amp; design</p>
			<p>&amp; other things on <a target="_blank" href="https://fonserbc.itch.io/">my itch.io</a></p>
		</div>
		<h2>articles</h2>
		<div id="articles">
			<p><a target="_blank" href="https://nothke.itch.io/interminal/devlog/208522/procedural-terminal-in-interminal">Procedural terminal in Interminal</a> (2021), procgen</p>
			<p><a target="_blank" href="https://ldjam.com/events/ludum-dare/44/jamsterdam/procedural-music-in-jamsterdam">Procedural music in Jamsterdam</a> (2019), procgen &amp; music</p>
		</div>
		<h2>talks</h2>
		<div id="talks">
			<p>The browser kicked me out (of the CPU):<br/>Making a three.js WebGL mobile game<br />(codetalks.de 2023), <a target="_blank" href="https://fonserbc.net/slides/codetalks2023">slides</a></p>
			<p>Jugant amb la música: més enllà dels jocs de ritme<br />(IndieDevDay.es 2023), <a target="_blank" href="https://fonserbc.net/slides/idd23">slides</a></p>
			<p><a target="_blank" href="https://www.youtube.com/watch?v=gru01aXkr30">Making Games for Music</a><br />(Taipei Game Developers Forum 2022), <a target="_blank" href="https://fonserbc.net/slides/tgdf2022">slides</a></p>
		</div>
		<h2>bio</h2>
		<div class="text">
			<p>I'm <b>Ferran Bertomeu Castells</b>, you will also find me online as <b>fonserbc</b>. I'm currently in <span id="tw-content" class="hidden">Taipei, </span><span id="tw-key" class="hidden-key">Taiwan</span><span id="tw-subcontent" class="hidden">, where I will also answer to 斐浪</span>.</p>
			<p>I'm originally from <a target="_blank" href="https://www.google.com/maps/place/Deltebre">Deltebre</a>, a town in the middle of a <span id="delta-key" class="hidden-key">beautiful delta</span>, somewhere in-between <span id="bcn-key" class="hidden-key">Barcelona</span> and Valencia.</p>
			<p id="delta-content" class="hidden">This delta is unfortunately disappearing because of rising sea-levels and lack of sediments reaching the sea due to the <a target="_blank" href="https://en.wikipedia.org/wiki/Ebro">Ebre</a>'s 200+ dams.</p>
			<p id="bcn-content" class="hidden">I grew up in fact in <a target="_blank" href="https://www.google.com/maps/place/Sant+Joan+Despí">Sant Joan Despí</a>, in the metropolitan area of Barcelona, but most of my weekends were spent in Deltebre where all my family is from.</p>
			<p>I <span id="stockholm-key" class="hidden-key">started</span> my studies in Computer Science at the <span id="vga-key" class="hidden-key">Facultat d'Informàtica de Barcelona</span>, UPC.</p>
			<p id="stockholm-content" class="hidden">I ended them in Kungliga Tekniska Högskolan in Stockholm, where I later worked as an <span id="goo-key" class="hidden-key">intern</span><span id="goo-content" class="hidden"> at Goo Technologies' <a target="_blank" href="https://twitter.com/goocreate">GooCreate</a></span>.</p>
			<p id="vga-content" class="hidden">I've helped with the organization of the Global Game Jam <a target="_blank" href="https://twitter.com/Gamejambcn">location in Barcelona</a> for many years, as a member of the student association <a target="_blank" href="https://twitter.com/vgafib">VGAFIB</a>.</p>
			<p>I've been working freelancing since 2015 doing <span id="work-key" class="hidden-key">game development and design</span> for companies like <a target="_blank" href="http://23divide.com/">23Divide</a>, <a target="_blank" href="https://twitter.com/blockzerogames">Block Zero Games</a> and <a target="_blank" href="https://spellstruck.app">Artist Arcade</a>.</p>
			<p id="work-content" class="hidden">I've been involved in mobile-games <span id="spellstruck-key" class="hidden-key">development</span>, <span id="arcade-key" class="hidden-key">publishing</span> and <a target="_blank" href="https://www.xflight.app/">XR/VR and webgl content</a> with them. <span id="spellstruck-subcontent" class="hidden">At Artist Arcade, we developed <a target="_blank" href="https://spellstruck.app/">Disney SpellStruck</a> for the Apple Arcade.</span><span id="arcade-content" class="hidden"> I <span id="spellstruck-content" class="hidden">also </span>worked on the publishing and porting of <a target="_blank" href="http://www.punchplanet.com/">Punch Planet</a> and <a target="_blank" href="https://lifeslide.io/">Lifeslide</a> to the Apple Arcade.</p>
			<p>I lived in the Netherlands for 6 years until 2021. In Amsterdam is where I started the <a target="_blank" href="http://offscoreproject.com">Off-Score Project</a> alongside <a target="_blank" href="https://yentinglo.net/">YenTing Lo <span class="zh">羅妍婷</span></a> and <a target="_blank" href="https://mrgan.com/vanja/">Vanja Mrgan</a>.</p>
			<p>Since I started working with YenTing, I've been interested in making games and interactive media that regard its music as more than just background music.</p>
			<p>I've been living in Taiwan since June 2021.</p>
		</div>
	</main>

	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-57091670-2', 'auto');
		ga('send', 'pageview');
	</script>
	<script>
		// Ink-like thing
        function textKeyPressed(k) {
            let key = document.getElementById(k + "-key");
            let content = document.getElementById(k + "-content");
			let subcontent = document.getElementById(k + "-subcontent");
            if (content != null && content.classList.contains("hidden")) {
				content.classList.remove("hidden");
                content.classList.add("reveal");
                key.classList.remove("hidden-key");
				key.classList.add("pressed-key");

				if (subcontent != null) {
					subcontent.classList.remove("hidden");
					subcontent.classList.add("reveal");
				}

                turnAll();
            }
		}

        let keys = document.getElementsByClassName("hidden-key");
        for (let k of keys) {
			for (let c of k.classList) {
				if (c.includes("-key")) {
					let keyword = k.id.replace("-key", "");
					k.addEventListener("mousedown", function () {
						textKeyPressed(keyword);
					});
				}
			}
		}

        function lerp(a, b, n) {
            return (1 - n) * a + n * b;
        }

		// Visuals
        let canvas = document.getElementById("canvas");
        let width = document.body.clientWidth;
		let height = document.body.clientHeight;
		canvas.width = width;
		canvas.height = height;
		let ctx = canvas.getContext("2d");

		let speed = height * 0.25;
		let turningSpeed = Math.PI * 1.2;

		let brushCount = 16;
		let lineSpaceDivision = 11;
		let lineSpaceOffset = 0;

		let brushes = [];

		let hues = [204];//, 190,217];
		let currentHue = 0;
		let lastHue = 0;
		let hueTime = 1;

		let timedTurnPeriod = 2;
		let timedTurnIt = 0;
		let timedTurnCountdown = timedTurnPeriod;

		let needCheckResize = true;
		let showingFace = false;
		function checkWindowResize() {
            let w = document.body.clientWidth;
			let h = document.body.clientHeight;
			if (w != width || h != height) {

				let temp = ctx.getImageData(0, 0, width, height);

				width = w;
				height = h;
				canvas.width = width;
				canvas.height = height;

                ctx.putImageData(temp, 0, 0);
			}
		}

        function mod(n, m) {
            return ((n % m) + m) % m;
        }

		for (let i = 0; i < brushCount; ++i) {
			let brush = {
				x: Math.random() * 600 + width * 0.5 - 300,
				y: Math.random() * height * 0.8 + height * 0.1,
				angle: Math.random() * Math.PI * 2,
				wantedAngle: 0,
				fromAngle: 0,
				turning: false,
				turningNormalizedSpeed: 1,
				turnedFactor: 0
                //angle: Math.round(Math.random() * lineSpaceDivision) / lineSpaceDivision * Math.PI * 2 + lineSpaceOffset
			};
			brushes.push(brush);
		}

        function turnBrush(i, maxAngle = Math.PI, factor = 0) {
			if (brushes[i].turning) return;

            brushes[i].wantedAngle = brushes[i].angle + Math.random() * maxAngle * 2 - maxAngle;
			brushes[i].fromAngle = brushes[i].angle;
			let timeToAngle = Math.abs(brushes[i].fromAngle - brushes[i].wantedAngle) / turningSpeed;
			brushes[i].turningNormalizedSpeed = 1 / timeToAngle;
            brushes[i].turnedFactor = factor;
			brushes[i].turning = factor < 1;
			if (factor >= 1) {
				brushes[i].angle = brushes[i].wantedAngle;
			}
		}

        ctx.strokeStyle = '#24556d';

		function update(time, deltaTime) {
			hueTime = Math.min(1, hueTime + deltaTime);
			let hue = lerp(hues[lastHue], hues[currentHue], hueTime);
			let saturation = (20 + (Math.sin(time * 0.1) + 1) / 2 * 40);
			if (showingFace)
			{
				hue = 8.4;
				saturation = (50 + (Math.sin(time * 0.1) + 1) / 2 * 40)
			}
            let color = `hsl(${hue},${saturation}%, ${(60 + (Math.cos(time * 0.3) + 1) / 2 * 30)}%)`;
			ctx.strokeStyle = color;

			timedTurnCountdown -= deltaTime;
			if (timedTurnCountdown <= 0) {
				turnBrush(timedTurnIt, Math.PI * 0.3);

				timedTurnIt = (timedTurnIt + 1) % brushCount;
                timedTurnCountdown += Math.random();//0.5 + Math.random() * timedTurnPeriod;
			}

			//console.log(ctx.strokeStyle, color);

			for (let i = 0; i < brushCount; ++i) {
				// Update turn
				if (brushes[i].turning) {
					brushes[i].turnedFactor = Math.min(1, brushes[i].turnedFactor + deltaTime * brushes[i].turningNormalizedSpeed);
					brushes[i].angle = lerp(brushes[i].fromAngle, brushes[i].wantedAngle, brushes[i].turnedFactor);
					if (brushes[i].turnedFactor >= 1) brushes[i].turning = false;
				}
				// Draw
				let newPos = {
					x: brushes[i].x,
					y: brushes[i].y
				};

                newPos.x += speed * Math.cos(brushes[i].angle) * deltaTime;
                newPos.y += speed * Math.sin(brushes[i].angle) * deltaTime;

                ctx.beginPath();
                ctx.lineWidth = 2 + i%4;
				ctx.moveTo(brushes[i].x, brushes[i].y);
				ctx.lineTo(newPos.x, newPos.y);
				ctx.stroke();

				brushes[i].x = mod(newPos.x, width);
                brushes[i].y = mod(newPos.y, height);
			}
		}

		let lastUpdate = Date.now();
		let accTime = 0;
        function animate() {
            requestAnimationFrame(animate);
            let now = Date.now();
			let deltaTime = Math.min(1 / 15, (now - lastUpdate) / 1000);
			accTime += deltaTime;
			lastUpdate = now;

			if (needCheckResize) {
				needCheckResize = false;
				checkWindowResize();
			}

            update(accTime, deltaTime);
		}

		function turnAll() {
			for (let i = 0; i < brushCount; ++i) {
				turnBrush(i, Math.PI * 2);
			}

			if (hueTime >= 1) {
				lastHue = currentHue;
				currentHue = (currentHue + 1) % hues.length;
				hueTime = 0;
			}
		}

		// Other
        let port = document.getElementById("portrait-container");
        let front = document.getElementById("looking-portrait");

        function ShowFace() {
			front.classList.remove("hidden");
			showingFace = true;
            turnAll();
        }
        function HideFace() {
            front.classList.add("hidden");
			showingFace = false;
            turnAll();
		}
		port.addEventListener("mouseenter", ShowFace);
        port.addEventListener("mouseleave", HideFace);
		port.addEventListener("mousedown", function () {
			HideFace();
		});
		port.addEventListener("mouseup", function () {
			ShowFace();
		});
        document.addEventListener("touchstart", ShowFace);
		document.addEventListener("touchend", HideFace);
        port.addEventListener("touchstart", function () {
            ShowFace();
        });
        port.addEventListener("touchend", function () {
            HideFace();
		});

        requestAnimationFrame(animate);
	</script>
</body>
</html>
