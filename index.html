<!DOCTYPE html>
<html>
<head>
<style> 
body {
	background: #D2FAF7;
	font-family: "Trebuchet MS", Helvetica, sans-serif
}

canvas {
	padding-left: 0;
    padding-right: 0;
    margin-left: auto;
    margin-right: auto;
    display: block;
}

div {
	margin: 0 auto;
	width: 70%;
}
</style>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Fonserbc</title>
<link rel="shortcut icon" href="fon.ico" >
<script src="/js/aes.js"></script>
<script type="text/javascript">
	function wantToSendMail () {
		return CryptoJS.AES.decrypt("U2FsdGVkX1+5gKfiQdRwVbMPSk8zRQULptjr+peoDsueyGOkyDXpawYV2JJ0nnpZ", "Please bots and crawlers stay out").toString(CryptoJS.enc.Utf8);
	}
</script>
</head>

<body>
	<canvas id="canvas" width="256" height="256" href="https://fonserbc.itch.io" title="Click to go to play things I made">
        Your browser doesn't appear to support the HTML5 <code>&lt;canvas&gt;</code> element :(
    </canvas>

	<div>
		<h1>About me</h1>
		<p>My name is <b>Ferran Bertomeu Castells</b>, also known as <i><b>fonserbc</b></i>. I'm in Amsterdam.</p>
		<p>I make games. I program them most of the time.</p>
		<p>If you want to check my games <a href="https://fonserbc.itch.io">click here</a>.</p>
		
		<p>I'm working on a upcoming game at <a href="http://rollingterror.com">http://rollingterror.com</a>.</p>

		<h1>Contact</h1>
		<p>You can find me at <a href="https://twitter.com/fonserbc">fonserbc</a>.</p>
		<p>Or <a title="Click to send email"
 href="#" onmouseover="this.href='mailto:'+wantToSendMail();">email me</a>.</p>
	</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57091670-2', 'auto');
  ga('send', 'pageview');

</script>

<script type="text/javascript" src="js/gl-matrix-min.js"></script>
<script type="text/javascript" src="js/AssetManager.js"></script>
<script type="text/javascript" src="js/Cube.js"></script>

<!-- Vertex shader -->
<script id="shader-vs" type="x-shader/x-vertex">
	precision mediump float;

    attribute vec3 aPosition;
    attribute vec3 aNormal;
    attribute vec2 aTexCoord;

    uniform mat4 uMVMatrix;
    uniform mat4 uPMatrix;
    uniform mat3 uNMatrix;
	uniform vec3 uLightPos;

    varying float vlightNormalApport;
    varying vec2 vTexCoord;
	varying vec3 vPos;

    void main(void) {
        vec4 mvPosition = uMVMatrix * vec4(aPosition, 1.0);
		vPos = mvPosition.xyz;

        vec3 transformedNormal = uNMatrix * normalize(aNormal);
        vlightNormalApport = dot(normalize(transformedNormal), normalize(uLightPos - mvPosition.xyz));

        gl_Position = uPMatrix * mvPosition;
			
		vTexCoord = aTexCoord;
    }
</script>

<!-- Fragment shader -->
<script id="shader-fs" type="x-shader/x-fragment">
    precision mediump float;

	uniform vec3 uLightPos;
	
    varying float vlightNormalApport;
	varying vec2 vTexCoord;
	varying vec3 vPos;

	uniform sampler2D sampler;
	
    void main(void) {

    	vec3 lightVec = uLightPos - vPos;
		float lightDist = length(lightVec);
		float minLightDist = 27.5;
		float maxLightDist = 15.0;
		float lightDistanceApport = (1.0 - (lightDist - maxLightDist)/(minLightDist - maxLightDist));
	
        gl_FragColor = vec4(texture2D(sampler, vTexCoord).rgb * lightDistanceApport * vlightNormalApport, 1.0);
    }
</script>
<!-- AnimatedHeader -->
<script type="text/javascript" src="js/FonserbcAnimatedHeader.js"></script>
</body>
</html>
